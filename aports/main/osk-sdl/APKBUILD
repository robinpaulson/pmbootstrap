_hash="d9d75fd46e55f7b5371c73e99303a9cf1a03e013"

pkgname=osk-sdl
pkgver=1
pkgrel=5
pkgdesc="Onscreen Keyboard for Framebuffer"
url="https://github.com/postmarketOS/osk-sdl"
arch="all"
license="MIT"
depends="sdl2_image sdl2 sdl2_ttf cryptsetup-libs mesa-gl directfb"
makedepends="linux-headers sdl2-dev sdl2_image-dev sdl2_ttf-dev cryptsetup-dev"
subpackages=""

source="$pkgname-$_hash.tar.gz::https://github.com/postmarketos/${pkgname}/archive/${_hash}.tar.gz"

options="!strip"

build() {
    cd "${srcdir}/${pkgname}-${_hash}"
    make
}

package() {
    install -D -m755 "${srcdir}/${pkgname}-${_hash}"/osk-sdl \
        "$pkgdir"/usr/bin/osk-sdl
    install -D -m755 "${srcdir}/${pkgname}-${_hash}"/osk.conf \
        "$pkgdir"/etc/osk.conf
}
sha512sums="8f16a6d4ec52b8c7505fd41bb5f68417f6d47dae711665629db2d63bbf1baf3cf0a4981acd7d3c540b190263f63e975bf9d9b6f8fb577ce825a100e491971d66  osk-sdl-d9d75fd46e55f7b5371c73e99303a9cf1a03e013.tar.gz"
